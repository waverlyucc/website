!function(){var t=void 0;!function e(i,a,n){function o(l,c){if(!a[l]){if(!i[l]){var u="function"==typeof t&&t;if(!c&&u)return u(l,!0);if(r)return r(l,!0);var d=new Error("Cannot find module '"+l+"'");throw d.code="MODULE_NOT_FOUND",d}var v=a[l]={exports:{}};i[l][0].call(v.exports,function(t){var e=i[l][1][t];return o(e?e:t)},v,v.exports,e,i,a,n)}return a[l].exports}for(var r="function"==typeof t&&t,l=0;l<n.length;l++)o(n[l]);return o}({1:[function(t,e,i){"use strict";function a(){var t=localStorage.getItem("mc4wp_activity_list");"string"==typeof t&&t.length&&(v.value=t);var e=localStorage.getItem("mc4wp_activity_view");"string"==typeof e&&e.length&&(m.value=e);var i=localStorage.getItem("mc4wp_activity_period");i&&i.length&&(g.value=i)}function n(){localStorage.setItem("mc4wp_activity_list",v.value),localStorage.setItem("mc4wp_activity_view",m.value),localStorage.setItem("mc4wp_activity_period",g.value)}function o(){d=[],n(),u.getJSON(ajaxurl,{action:"mc4wp_get_activity",mailchimp_list_id:v.value,period:g.value,view:m.value},function(t){if(d=t.data,!t.data||!t.data.length)return void(s.innerHTML="Oops. Something went wrong while fetching data from MailChimp.");for(var e=0;e<d.length;e++)d[e][0].v=new Date(d[e][0].v);r()})}function r(){var t,e={hAxis:{title:"Date",format:"MMM d"},vAxis:{},explorer:{maxZoomOut:2,keepInBounds:!0},animation:{duration:1e3,easing:"linear",startup:!0},height:400};t="size"===m.value?new c(d,e):new l(d,e),t.draw()}function l(t,e){function i(){var t=new google.visualization.ColumnChart(s);t.draw(a,e)}var a=new google.visualization.DataTable;return a.addColumn("date","Date"),a.addColumn("number","New Subscribers"),a.addColumn("number","Unsubscribes"),a.addRows(t),e.isStacked=!0,e.title="Activity for list "+v.options[v.selectedIndex].innerHTML,e.vAxis.title="Subscriber Activity",{draw:i}}function c(t,e){function i(){var t=new google.charts.Line(s);t.draw(a,e)}var a=new google.visualization.DataTable;return a.addColumn("date","Date"),a.addColumn("number","Subscribers"),a.addRows(t),e.title="List size for list "+v.options[v.selectedIndex].innerHTML,e.vAxis.title="Number of Subscribers",e.legend={position:"none"},{draw:i}}var u=window.jQuery,d=[],v=document.getElementById("mc4wp-activity-mailchimp-list"),s=document.getElementById("mc4wp-activity-chart"),m=document.getElementById("mc4wp-activity-view"),g=document.getElementById("mc4wp-activity-period");m.onchange=o,v.onchange=o,g.onchange=o,a(),google.load("visualization","1",{packages:["corechart","bar","line"]}),google.setOnLoadCallback(o)},{}]},{},[1])}();
//# sourceMappingURL=dashboard-widget.min.js.map
